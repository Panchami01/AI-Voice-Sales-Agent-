{
  "type": "Settings",
  "audio": {
    "input":  { "encoding": "mulaw", "sample_rate": 8000, "channels": 1 },
    "output": { "encoding": "mulaw", "sample_rate": 8000, "channels": 1, "container": "none" }
  },
  "agent": {
    "language": "en",
    "listen": {
      "provider": { "type": "deepgram", "model": "nova-3", "keyterms": ["hello","goodbye","booking","appointment"] }
    },
    "think": {
      "provider": { "type": "open_ai", "model": "gpt-4o-mini", "temperature": 0.5 },
      "prompt": "You are a professional voice sales agent for Riverstone Place, a fictional apartment development in Abbotsford, VIC (Melbourne, Australia). Collect and confirm full name, phone, email, budget, move-in timeframe, bedroom/bath preferences, and intent to buy. Offer viewing slots per policy. Never bluff; stay within provided knowledge. If user says STOP or unsubscribe, confirm and add a compliance flag. At call end, post a JSON object with call_sid, summary, qualification, booking, and compliance_flags using the 'log_call' tool."
    },
    "speak": {
      "provider": { "type": "deepgram", "model": "aura-2-thalia-en" }
    }
  },
  "tools": [
    {
      "type": "http",
      "name": "book_appointment",
      "description": "Book a property viewing appointment (mock).",
      "method": "POST",
      "url": "https://YOUR-API-SERVICE.onrender.com/book_appointment",
      "input_schema": {
        "type": "object",
        "properties": {
          "name":  { "type": "string" },
          "phone": { "type": "string" },
          "email": { "type": "string", "format": "email" },
          "slot_iso": { "type": "string", "description": "ISO8601 with timezone, e.g. 2025-09-29T10:00:00+10:00" },
          "mode": { "type": "string", "enum": ["video","display-suite"] },
          "notes": { "type": "string" }
        },
        "required": ["name","phone","email","slot_iso","mode"]
      }
    },
    {
      "type": "http",
      "name": "log_call",
      "description": "Persist summary/qualification/booking/compliance to server logs.",
      "method": "POST",
      "url": "https://YOUR-API-SERVICE.onrender.com/logs/ingest",
      "input_schema": {
        "type": "object",
        "properties": {
          "call_sid": { "type": "string" },
          "summary": { "type": "string" },
          "qualification": { "type": "object" },
          "booking": { "type": "object" },
          "compliance_flags": { "type": "array", "items": { "type": "string" } }
        },
        "required": ["call_sid"]
      }
    }
  ]
}


